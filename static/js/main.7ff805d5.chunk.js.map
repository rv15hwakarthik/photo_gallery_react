{"version":3,"sources":["assets/svgs/camera.svg","components/Header/index.js","components/Modal/index.js","components/Gallery/index.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","cameraIcon","alt","closeModal","modal","document","getElementById","style","display","window","addEventListener","event","key","Modal","listOfImages","imageIndex","toggleImage","id","onClick","urls","small","role","visibility","Gallery","props","openModal","index","setState","currentImageIndex","direction","prevState","state","length","getImages","clearTimeout","debounceTimer","setTimeout","currentPage","config","params","client_id","page","Axios","get","then","response","newList","data","catch","error","console","log","this","lastImage","querySelector","lastImageOffset","offsetTop","clientHeight","pageYOffset","innerHeight","map","image","description","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7ff805d5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/camera.d685f5a1.svg\";","import React from 'react';\nimport './style.scss';\nimport cameraIcon from '../../assets/svgs/camera.svg';\n\nfunction Header(){\n\n        return (\n            <div className=\"header\">\n                <div className=\"header__container\">\n                    <img src={cameraIcon} alt=\"camera\"></img>\n                    <div>Photo Gallery</div>\n                </div>\n            </div>\n        )\n}\n\nexport default Header;","import React from 'react';\nimport './style.scss'\n\nfunction closeModal() {\n    const modal = document.getElementById('imageModal');\n    if(modal) {\n        modal.style.display = 'none';\n    }\n}\n\nwindow.addEventListener(\"keydown\", event => {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\nfunction Modal({listOfImages , imageIndex, toggleImage}) {\n\n    return (\n        <div id=\"imageModal\" className=\"modal\" style={{display: 'none'}}>\n            <div className=\"modal__content\">\n                <div className=\"modal__content__header\">\n                    <button onClick={closeModal}>x</button>\n                </div>\n                <div className=\"modal__content__body\">\n                    {listOfImages[imageIndex] && listOfImages[imageIndex].urls ?\n                    <img src={listOfImages[imageIndex].urls.small} alt=\"selected\"></img>\n                    : ''}\n                </div>\n                <div className=\"modal__content__footer\">\n                    <div role=\"button\" onClick={() => toggleImage('left')} style={imageIndex === 0 ? { visibility: 'hidden'} : {}}>&#8249;</div>\n                    <div role=\"button\" onClick={() => toggleImage('right')}>&#8250;</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Modal;","import React, { Component } from 'react';\nimport Axios from 'axios';\nimport './style.scss';\nimport Modal from '../Modal';\n\nclass Gallery extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            listOfImages: [],\n            currentPage: 0,\n            currentImageIndex: 0\n        }\n\n        this.debounceTimer = null;\n    }\n\n    componentDidMount() {\n        this.getImages();\n        window.addEventListener('scroll', (event) => {\n            let lastImage = document.querySelector(\".gallery > img:last-child\");\n            let lastImageOffset = lastImage.offsetTop + lastImage.clientHeight;\n            var pageOffset = window.pageYOffset + window.innerHeight;\n\n            if(pageOffset > lastImageOffset - 500) {\n                this.getImages();\n            }\n        });\n    }\n\n    openModal = (index) => {\n        this.setState({\n            currentImageIndex: index\n        }, () => {\n            document.getElementById('imageModal').style.display = 'block';\n        })\n    }\n\n    toggleImage = (direction) => {\n\n        if(direction === 'left') {\n            this.setState((prevState) => {\n                return {currentImageIndex: prevState.currentImageIndex - 1}\n            });\n        } else {\n            this.setState((prevState) => {\n                return {currentImageIndex: prevState.currentImageIndex + 1}\n            }, () => {\n                if(this.state.listOfImages.length - this.state.currentImageIndex < 5) {\n                    this.getImages();\n                }\n            });\n        }\n    }\n\n    getImages = () => {\n\n        clearTimeout(this.debounceTimer);\n        this.debounceTimer = setTimeout(() => {\n            this.setState((prevState) => {\n                return {\n                    currentPage: prevState.currentPage + 1\n                }\n            }, () => {\n                const config = {\n                    params: {\n                        client_id: 'u11hLKo7eV5fY3fZoUB1TGtW9PuTIkhB2tANcUcpz0s',\n                        page: this.state.currentPage\n                    }\n                }\n                Axios.get(\"https://api.unsplash.com/photos\", config)\n                .then(response => {\n                    let newList = [...this.state.listOfImages, ...response.data];\n                    this.setState({\n                        listOfImages: newList\n                    });\n                })\n                .catch( error => {\n                    console.log(error);\n                });\n            })\n        }, 50)\n        \n    }\n\n    render() {\n\n        const { listOfImages, currentImageIndex } = this.state;\n\n        return (\n            <>\n                <div className=\"gallery\">\n                    {listOfImages.map( (image, index) => {\n                        return <img key={image.id} src={image.urls.small} alt={image.description} onClick={() => this.openModal(index)}></img>\n                    })}\n                </div>\n                <Modal listOfImages={listOfImages} imageIndex={currentImageIndex} toggleImage={this.toggleImage}/>\n            </>\n        )\n    }\n}\nexport default Gallery;\n","import './App.css';\nimport Header from './components/Header/';\nimport Gallery from './components/Gallery'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header></Header>\n      <Gallery></Gallery>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}