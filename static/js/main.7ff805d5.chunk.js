(this.webpackJsonpphoto_gallery_react=this.webpackJsonpphoto_gallery_react||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(2),i=n.n(a),s=n(13),r=n.n(s),o=(n(24),n(25),n(26),n.p+"static/media/camera.d685f5a1.svg");var l=function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"header__container",children:[Object(c.jsx)("img",{src:o,alt:"camera"}),Object(c.jsx)("div",{children:"Photo Gallery"})]})})},d=n(4),u=n(14),g=n(15),m=n(18),f=n(17),j=n(16),h=n.n(j);n(44),n(45);function b(){var e=document.getElementById("imageModal");e&&(e.style.display="none")}window.addEventListener("keydown",(function(e){"Escape"===e.key&&b()}));var I=function(e){var t=e.listOfImages,n=e.imageIndex,a=e.toggleImage;return Object(c.jsx)("div",{id:"imageModal",className:"modal",style:{display:"none"},children:Object(c.jsxs)("div",{className:"modal__content",children:[Object(c.jsx)("div",{className:"modal__content__header",children:Object(c.jsx)("button",{onClick:b,children:"x"})}),Object(c.jsx)("div",{className:"modal__content__body",children:t[n]&&t[n].urls?Object(c.jsx)("img",{src:t[n].urls.small,alt:"selected"}):""}),Object(c.jsxs)("div",{className:"modal__content__footer",children:[Object(c.jsx)("div",{role:"button",onClick:function(){return a("left")},style:0===n?{visibility:"hidden"}:{},children:"\u2039"}),Object(c.jsx)("div",{role:"button",onClick:function(){return a("right")},children:"\u203a"})]})]})})},O=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).openModal=function(e){c.setState({currentImageIndex:e},(function(){document.getElementById("imageModal").style.display="block"}))},c.toggleImage=function(e){"left"===e?c.setState((function(e){return{currentImageIndex:e.currentImageIndex-1}})):c.setState((function(e){return{currentImageIndex:e.currentImageIndex+1}}),(function(){c.state.listOfImages.length-c.state.currentImageIndex<5&&c.getImages()}))},c.getImages=function(){clearTimeout(c.debounceTimer),c.debounceTimer=setTimeout((function(){c.setState((function(e){return{currentPage:e.currentPage+1}}),(function(){var e={params:{client_id:"u11hLKo7eV5fY3fZoUB1TGtW9PuTIkhB2tANcUcpz0s",page:c.state.currentPage}};h.a.get("https://api.unsplash.com/photos",e).then((function(e){var t=[].concat(Object(d.a)(c.state.listOfImages),Object(d.a)(e.data));c.setState({listOfImages:t})})).catch((function(e){console.log(e)}))}))}),50)},c.state={listOfImages:[],currentPage:0,currentImageIndex:0},c.debounceTimer=null,c}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.getImages(),window.addEventListener("scroll",(function(t){var n=document.querySelector(".gallery > img:last-child"),c=n.offsetTop+n.clientHeight;window.pageYOffset+window.innerHeight>c-500&&e.getImages()}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.listOfImages,a=t.currentImageIndex;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"gallery",children:n.map((function(t,n){return Object(c.jsx)("img",{src:t.urls.small,alt:t.description,onClick:function(){return e.openModal(n)}},t.id)}))}),Object(c.jsx)(I,{listOfImages:n,imageIndex:a,toggleImage:this.toggleImage})]})}}]),n}(a.Component);var x=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(l,{}),Object(c.jsx)(O,{})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),v()}},[[46,1,2]]]);
//# sourceMappingURL=main.7ff805d5.chunk.js.map